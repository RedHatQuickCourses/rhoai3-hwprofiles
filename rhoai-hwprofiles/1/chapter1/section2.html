<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hardware Profiles in OpenShift AI :: Hardware Governance at Scale with RHOAI Hardware Profiles.</title>
    <link rel="prev" href="../index.html">
    <link rel="next" href="section5.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Hardware Governance at Scale with RHOAI Hardware Profiles.</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="rhoai-hwprofiles" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Hardware Governance at Scale with RHOAI Hardware Profiles.</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="section2.html">Hardware Profiles Guide</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="section5.html">GPU Sharing &amp; MIG</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="section4.html">Taints &amp; Tolerations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="section3.html">Kueue Integration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="section6.html">Operations &amp; Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="section1.html">Automation Lab</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="section8.html">Strategy Workshop</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="section7.html">Course Summary</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="section9.html">Lab: Optimizing AI Clusters with Kueue &amp; Priority</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="section10.html">Advanced Lab: Kueue Optimization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="section11.html">OpenShift AI Hardware Profile Tiering Strategy</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="section12.html">Integrating Hardware Profiles with Kueue</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Hardware Governance at Scale with RHOAI Hardware Profiles.</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Hardware Governance at Scale with RHOAI Hardware Profiles.</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Hardware Governance at Scale with RHOAI Hardware Profiles.</a></li>
    <li><a href="section2.html">Hardware Profiles Guide</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Hardware Profiles in OpenShift AI</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Hardware profiles in Red Hat OpenShift AI act as templates that define specific hardware configurations for user workloads. They allow administrators to create a menu of available compute resources—such as "Small CPU", "Large Memory", or "NVIDIA A100 GPU"—that data scientists can easily select without needing to understand underlying Kubernetes complexities like taints, tolerations, or resource limits.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_are_hardware_profiles"><a class="anchor" href="#_what_are_hardware_profiles"></a>What are Hardware Profiles?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hardware profiles are <strong>Custom Resources (CRs)</strong> that serve as an abstraction layer between the physical infrastructure and the end-user. Instead of manually requesting "4 CPUs and 16GB RAM" every time, a user selects a profile like "Standard Data Science" which pre-defines these values.</p>
</div>
<div class="paragraph">
<p><strong>Key Benefits:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Governance:</strong> Enforce limits on how much compute a single user can request.</p>
</li>
<li>
<p><strong>Simplicity:</strong> Hide complex Kubernetes node selectors and tolerations behind user-friendly names.</p>
</li>
<li>
<p><strong>Efficiency:</strong> Ensure workloads are scheduled on the correct hardware (e.g., ensuring GPU jobs only go to GPU nodes).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_create_a_hardware_profile"><a class="anchor" href="#_how_to_create_a_hardware_profile"></a>How to Create a Hardware Profile</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When designing a profile, you need to define three categories of information. Use the guide below to make sizing decisions for each category.</p>
</div>
<div class="sect2">
<h3 id="_a_metadata_the_menu_entry"><a class="anchor" href="#_a_metadata_the_menu_entry"></a>A. Metadata (The "Menu" Entry)</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Name:</strong> The user-facing name (e.g., "NVIDIA A100 - Large").</p>
</li>
<li>
<p><strong>Description:</strong> Guidance for the user (e.g., "Use this for Large Language Model training").</p>
</li>
<li>
<p><strong>Visibility:</strong> Decide if this profile is available to <strong>everyone</strong> or <strong>restricted to model serving and workbench deployments</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_b_identifiers_tolerations_the_target"><a class="anchor" href="#_b_identifiers_tolerations_the_target"></a>B. Identifiers &amp; Tolerations (The "Target")</h3>
<div class="paragraph">
<p>This section tells Kubernetes <strong>where</strong> to run the workload.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Identifier:</strong> If targeting a GPU, enter the resource label (e.g., <code>nvidia.com/gpu</code>).</p>
</li>
<li>
<p><strong>Tolerations:</strong> If you have "tainted" your expensive GPU nodes to prevent general workloads from landing there (e.g., <code>key=gpu, effect=NoSchedule</code>), you must add the matching <strong>Toleration</strong> here. This ensures only users selecting this profile can bypass the restriction.</p>
</li>
<li>
<p><strong>Node Selectors:</strong> Use these to pin workloads to specific node labels (e.g., <code>instance-type=p4d.24xlarge</code>).</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="_images/selectors-tolerations.png" alt="selectors tolerations">
</div>
<div class="title">Figure 1. Node Selectors, Tolerations, and Hardware Profiles</div>
</div>
</div>
<div class="sect2">
<h3 id="_c_resource_limits_the_sizing"><a class="anchor" href="#_c_resource_limits_the_sizing"></a>C. Resource Limits (The "Sizing")</h3>
<div class="paragraph">
<p>This is the most critical decision for cost and performance. You set <strong>CPU</strong> and <strong>Memory</strong> values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Request (Minimum):</strong> The amount guaranteed to the container.</p>
<div class="ulist">
<ul>
<li>
<p>Set this to the minimum viable amount needed to start the kernel to avoid wasting cluster capacity.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Limit (Maximum):</strong> The hard ceiling.</p>
<div class="ulist">
<ul>
<li>
<p>Set this to prevent a single user from starving the node.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Default:</strong> The pre-filled value the user sees.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Example Sizing Strategy</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6669%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Profile Name</th>
<th class="tableblock halign-left valign-top">Target Use Case</th>
<th class="tableblock halign-left valign-top">CPU (Req/Lim)</th>
<th class="tableblock halign-left valign-top">Memory (Req/Lim)</th>
<th class="tableblock halign-left valign-top">Accelerator</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Standard</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data exploration, simple ML</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 / 4 Cores</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8GB / 16GB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Training</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deep learning models</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 / 16 Cores</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32GB / 64GB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1x NVIDIA GPU</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Large</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LLM Fine-tuning</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24 / 48 Cores</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128GB / 256GB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2x NVIDIA GPU</p></td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_enabling_storing_hardware_profiles"><a class="anchor" href="#_enabling_storing_hardware_profiles"></a>Enabling &amp; Storing Hardware Profiles</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_where_is_the_information_stored"><a class="anchor" href="#_where_is_the_information_stored"></a>Where is the information stored?</h3>
<div class="paragraph">
<p>The data is stored as a <strong>Custom Resource (CR)</strong> of kind <code>HardwareProfile</code> inside the OpenShift cluster&#8217;s etcd database. It is not a simple ConfigMap; it is a structured API object that the OpenShift AI operator reads to inject settings into user pods.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_enable_hardware_profiles"><a class="anchor" href="#_how_to_enable_hardware_profiles"></a>How to Enable Hardware Profiles</h3>
<div class="paragraph">
<p>In some versions of OpenShift AI, this feature might be hidden behind a feature flag. To enable it:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Access the <strong>OpenShift Console</strong> (Administrator view).</p>
</li>
<li>
<p>Find the <code>OdhDashboardConfig</code> custom resource.</p>
</li>
<li>
<p>Set the <code>disableHardwareProfiles</code> field to <code>false</code>.</p>
</li>
<li>
<p>Refresh the OpenShift AI dashboard, and the "Hardware profiles" menu item will appear under Settings.</p>
</li>
</ol>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_for_accelerators_gpusnpus"><a class="anchor" href="#_using_for_accelerators_gpusnpus"></a>Using for Accelerators (GPUs/NPUs)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use a hardware profile for accelerators like NVIDIA or Gaudi, follow this workflow:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Install Drivers:</strong> Ensure the NVIDIA GPU Operator (or equivalent) is installed.</p>
</li>
<li>
<p><strong>Verify Detection:</strong> Check that OpenShift nodes report allocatable resources (e.g., <code>nvidia.com/gpu: 8</code>).</p>
</li>
<li>
<p><strong>Create Profile:</strong></p>
<div class="ulist">
<ul>
<li>
<p>Add a <strong>Resource Identifier</strong> matching the node label (e.g., <code>nvidia.com/gpu</code>).</p>
</li>
<li>
<p>Set the <strong>Count</strong> (e.g., allow users to request 1 or 2 GPUs).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Associate with Images (Optional):</strong> You can link a hardware profile to specific <strong>Workbench Images</strong>. For example, you can configure the "PyTorch" image to recommend the "NVIDIA GPU" profile, creating a warning if a user tries to run it on a CPU-only node.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once configured, a data scientist simply selects "NVIDIA GPU" from a dropdown when creating a workbench, and the system automatically handles the complex Kubernetes scheduling in the background.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../index.html">Home</a></span>
  <span class="next"><a href="section5.html">GPU Sharing &amp; MIG</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
